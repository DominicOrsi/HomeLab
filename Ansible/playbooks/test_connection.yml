---
- name: Test connectivity to all hosts
  hosts: all
  gather_facts: false  # Skip slow data collection for a quick test
  tasks:
    - name: Ping the hosts
      ansible.builtin.ping:

    - name: Check uptime (Optional)
      ansible.builtin.command: uptime
      register: uptime_output

    - name: Show uptime result
      ansible.builtin.debug:
        msg: "{{ inventory_hostname }} has been up for: {{ uptime_output.stdout }}"
